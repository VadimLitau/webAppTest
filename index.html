<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
			rel="stylesheet"
		/>

		<title>MINES</title>
	</head>
	<body>
		<style>
			/* Reset and base styles  */
			* {
				padding: 0px;
				margin: 0px;
				border: none;
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			/* Links */

			a,
			a:link,
			a:visited {
				text-decoration: none;
			}

			a:hover {
				text-decoration: none;
			}

			/* Common */

			aside,
			nav,
			footer,
			header,
			section,
			main {
				display: block;
			}

			h1,
			h2,
			h3,
			h4,
			h5,
			h6,
			p {
				font-size: inherit;
				font-weight: inherit;
			}

			ul,
			ul li {
				list-style: none;
			}

			img {
				vertical-align: top;
			}

			img,
			svg {
				max-width: 100%;
				height: auto;
			}

			address {
				font-style: normal;
			}

			/* Form */

			input,
			textarea,
			button,
			select {
				font-family: inherit;
				font-size: inherit;
				color: inherit;
				background-color: transparent;
			}

			input::-ms-clear {
				display: none;
			}

			button,
			input[type="submit"] {
				display: inline-block;
				box-shadow: none;
				background-color: transparent;
				background: none;
				cursor: pointer;
			}

			input:focus,
			input:active,
			button:focus,
			button:active {
				outline: none;
			}

			button::-moz-focus-inner {
				padding: 0;
				border: 0;
			}

			label {
				cursor: pointer;
			}

			legend {
				display: block;
			}
		</style>
		<style>
			body {
				font-family: "PT Sans", sans-serif;
				font-weight: 400;
				font-style: normal;
				box-sizing: border-box;
			}

			.wrap {
				display: flex;
				align-items: center;
				justify-content: center;
				height: 100vh;
				background: -webkit-linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
				background: -moz-linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
				background: linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
			}
			.main {
				background-image: url(./bgi.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;
				width: 100vw;
				height: 100vh;
				color: aliceblue;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				position: relative;
			}
			.lang-wrap {
				display: flex;
				flex-direction: column;
				align-items: center;
				opacity: 1;
				/* opacity: 0; */
				transition: opacity ease 0.5s;
				position: absolute;
				z-index: 10;
			}

			.main__lang {
				font-weight: 700;
				font-size: 26px;
			}

			.btn__wrap {
				margin-top: 10px;
			}

			.tellow__btn {
				background: #ffb734;
				border-radius: 5px;
				padding: 15px 25px;
				margin-right: 10px;
				font-size: 14px;
			}

			.tellow__btn:last-child {
				margin-right: 0;
			}

			.get-signal {
				background: #0959b0;
				font-size: 14px;
				padding: 10px;
				border-radius: 10px;
				width: 90px;
				transition: background ease 1s;
			}

			.opacity-off {
				opacity: 0;
			}

			.opacity-on {
				opacity: 1;
			}

			.loading {
				width: 30%;
				height: 40%;
				position: relative;
			}
			.loading_wrap {
				width: 200px;
				height: 200px;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
			#outside,
			#in,
			#center,
			#fire {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
			#outside {
				animation: 5s mercury infinite linear;
			}
			#center {
				top: 90%;
				left: 85%;
			}
			#in {
				top: 54%;
				left: 52%;
				animation: 2s mercury infinite linear;
			}
			#fire {
				top: 108%;
				left: 85.5%;
				animation-direction: alternate;
				animation-duration: 1s;
				animation-name: moves;
				animation-iteration-count: infinite;
				animation-timing-function: linear;
			}
			@keyframes mercury {
				from {
					transform: rotate(0);
				}
				to {
					transform: rotate(360deg);
				}
			}
			@keyframes moves {
				from {
					top: 112%;
				}
				to {
					top: 108%;
				}
			}

			#loading {
				margin-top: -30%;
				height: 20px;
				width: 80%;
				border-radius: 25px;
				border: none;
				background: #913cf1;
			}

			#loading_bar {
				border-radius: 25px;
				border: none;
				width: 1%;
				height: 20px;
				background-color: #fff;
			}
		</style>
		<main class="wrap">
			<section class="main">
				<!-- <div class="lang-wrap">
					<p class="main__lang">CHOOSE LANGUAGE</p>
					<div class="btn__wrap">
						<button class="tellow__btn" type="button" id="btn_rus">RUS</button>
						<button class="tellow__btn" type="button" id="btn_eng">ENG</button>
					</div>
				</div> -->
				<div class="loading">
					<div class="loading_wrap">
						<div class="loading__image">
							<img src="./outside.svg" alt="outside" id="outside" />
							<img src="./in.svg" alt="in" id="in" />
							<img src="./center.svg" alt="center" id="center" />
							<img src="./fire.svg" alt="fire" id="fire" />
						</div>
					</div>
				</div>
				<div class="loading_side" id="loading">
					<div class="loading_bar" id="loading_bar"></div>
				</div>
				<div class="mines-wrap opacity-off">
					<div class="control-wrap">
						<p class="control-text"></p>

						<button class="get-signal"></button>
					</div>
				</div>
			</section>
		</main>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script type="text/javascript">
			const tg = window.Telegram.WebApp;
			tg.expand();
			const langWrap = document.querySelector(".lang-wrap");
			const controlText = document.querySelector(".control-text");
			const getSignal = document.querySelector(".get-signal");
			const countText = document.querySelector(".count-text");

			const btnRus = document.querySelector("#btn_rus");
			const btnEng = document.querySelector("#btn_eng");

			let count = 3;
			let toggle = false;
			let btnSignalActive = true;
			let i = 0;
			let width = 1;

			function generateRandomNumbers() {
				const randomNumbers = [];
				while (randomNumbers.length < 5) {
					const randomNumber = Math.floor(Math.random() * 25); // Числа от 0 до 24
					if (!randomNumbers.includes(randomNumber)) {
						randomNumbers.push(randomNumber);
					}
				}
				return randomNumbers;
			}

			// btnRus.addEventListener("click", () => {
			// 	langWrap.classList.add("opacity-off");
			// 	controlText.textContent = "КОЛ-ВО ЛОВУШЕК";
			// 	getSignal.textContent = "ПОЛУЧИТЬ СИГНАЛ";
			// 	countText.textContent = count;
			// 	setTimeout(() => {
			// 		langWrap.classList.add("display-none");
			// 		minesWrap.classList.add("opacity-on");
			// 	}, 600);
			// });

			// btnEng.addEventListener("click", () => {
			// 	langWrap.classList.add("opacity-off");
			// 	controlText.textContent = "NUMBER OF TRAPS";
			// 	getSignal.textContent = "GET SIGNAL";
			// 	countText.textContent = count;
			// 	setTimeout(() => {
			// 		langWrap.classList.add("display-none");
			// 		minesWrap.classList.add("opacity-on");
			// 	}, 600);
			// });

			getSignal.addEventListener("click", () => {
				btnSignalActive ? applyClassesWithDelay() : "";
			});
			if (i == 0) {
				i = 1;
				let elem = document.getElementById("loading_bar");

				let id = setInterval(frame, 30);

				function frame() {
					if (width >= 100) {
						clearInterval(id);
						i = 0;
					} else {
						width++;
						elem.style.width = width + "%";
					}
				}
			}
		</script>
	</body>
</html>
