<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
			rel="stylesheet"
		/>

		<title>MINES</title>
	</head>
	<body>
		<style>
			/* Reset and base styles  */
			* {
				padding: 0px;
				margin: 0px;
				border: none;
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			/* Links */

			a,
			a:link,
			a:visited {
				text-decoration: none;
			}

			a:hover {
				text-decoration: none;
			}

			/* Common */

			aside,
			nav,
			footer,
			header,
			section,
			main {
				display: block;
			}

			h1,
			h2,
			h3,
			h4,
			h5,
			h6,
			p {
				font-size: inherit;
				font-weight: inherit;
			}

			ul,
			ul li {
				list-style: none;
			}

			img {
				vertical-align: top;
			}

			img,
			svg {
				max-width: 100%;
				height: auto;
			}

			address {
				font-style: normal;
			}

			/* Form */

			input,
			textarea,
			button,
			select {
				font-family: inherit;
				font-size: inherit;
				color: inherit;
				background-color: transparent;
			}

			input::-ms-clear {
				display: none;
			}

			button,
			input[type="submit"] {
				display: inline-block;
				box-shadow: none;
				background-color: transparent;
				background: none;
				cursor: pointer;
			}

			input:focus,
			input:active,
			button:focus,
			button:active {
				outline: none;
			}

			button::-moz-focus-inner {
				padding: 0;
				border: 0;
			}

			label {
				cursor: pointer;
			}

			legend {
				display: block;
			}
		</style>
		<style>
			@font-face {
				font-family: "Ethnocentric Rg";
				src: url("./ethnocentric.ttf") format("truetype");
				font-style: noraml;
				font-weight: normal;
			}
			body {
				font-family: "PT Sans", sans-serif;
				font-weight: 400;
				font-style: normal;
				box-sizing: border-box;
			}

			.wrap {
				max-width: 480px;
				display: flex;
				align-items: center;
				justify-content: center;
				height: 100vh;
				background: -webkit-linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
				background: -moz-linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
				background: linear-gradient(
					180deg,
					rgb(18, 5, 37) 73%,
					rgb(119, 0, 169)
				);
				overflow: hidden;
			}
			.main {
				background-image: url(./bgi.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;
				width: 100vw;
				height: 100vh;
				color: aliceblue;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				position: relative;
			}
			.main_bgc {
				background-color: #140d4d73;
				background-blend-mode: overlay;
			}
			.lang-wrap {
				display: flex;
				flex-direction: column;
				align-items: center;
				opacity: 1;
				/* opacity: 0; */
				transition: opacity ease 0.5s;
				position: absolute;
				z-index: 10;
			}

			.main__lang {
				font-weight: 700;
				font-size: 26px;
			}

			.btn__wrap {
				margin-top: 10px;
			}

			.tellow__btn {
				background: #ffb734;
				border-radius: 5px;
				padding: 15px 25px;
				margin-right: 10px;
				font-size: 14px;
			}

			.tellow__btn:last-child {
				margin-right: 0;
			}

			.get-signal {
				background: transparent;
				font-size: 25px;
				font-weight: 600;
				padding: 20px 30px;
				border: 3px solid #fff;
				border-radius: 40px;
				transition: background ease 1s;
			}

			.opacity-off {
				opacity: 0;
			}

			.opacity-on {
				opacity: 1;
			}

			.loading {
				width: 30%;
				/* height: 40%; */
				margin-bottom: 50%;
				position: relative;
			}
			.loading_wrap {
				width: 200px;
				height: 200px;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
			.loading,
			.loading_side {
				transition: opacity ease 0.5s;
			}
			#outside,
			#in,
			#center,
			#fire,
			.generate-wrap {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
			#outside {
				animation: 5s mercury infinite linear;
			}
			#center {
				top: 90%;
				left: 85%;
			}
			#in {
				top: 54%;
				left: 52%;
				animation: 2s mercury infinite linear;
			}
			#fire {
				top: 108%;
				left: 85.5%;
				animation-direction: alternate;
				animation-duration: 1s;
				animation-name: moves;
				animation-iteration-count: infinite;
				animation-timing-function: linear;
			}
			@keyframes mercury {
				from {
					transform: rotate(0);
				}
				to {
					transform: rotate(360deg);
				}
			}
			@keyframes moves {
				from {
					top: 112%;
				}
				to {
					top: 108%;
				}
			}

			#loading {
				margin-top: -30%;
				height: 20px;
				width: 80%;
				border-radius: 25px;
				border: none;
				background: #913cf1;
			}

			#loading_bar {
				border-radius: 25px;
				border: none;
				width: 1%;
				height: 20px;
				background-color: #fff;
			}
			.generate-wrap,
			.circle_wrap,
			.circle {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
			.generate-wrap {
				transition: opacity ease 0.5s;
			}
			.circle_wrap {
				width: 320px;
				height: 320px;
				border-radius: 50%;
				border: 1px white dashed;
			}
			.circle {
				width: 250px;
				height: 250px;
				border-radius: 50%;
				color: #fff;
				background-color: #000;
				border: 10px solid #a95aff;
			}
			.circle_time {
				font-size: 30px;
				font-weight: 700;
			}
			.circle_cf {
				font-size: 45px;
				font-weight: 700;
				padding-top: 5px;
				padding-bottom: 10px;
				color: #50a020;
			}
			.lucky_text {
				font-family: "Ethnocentric Rg";
				font-size: 35px;
				margin: 50px 0 80px 0;
			}
			.lucky_text span {
				color: #954ef5;
			}
			.gray_btn {
				background-color: #8b8b8b;
				border: none;
			}
			.generate_head_wrap {
				display: flex;
				flex-direction: column;
				justify-content: space-between;
				position: absolute;
				top: 0;
				left: 150%;
				transform: translate(-40%, -0%);
				width: 428px;
				height: 60px;
				background-color: #141114;
				z-index: 99;
			}
			.generate_head {
				display: flex;
				flex-direction: row;
				justify-content: space-between;
				padding: 0 15%;
				margin-top: 10px;
			}
			.generate_head-text {
				margin-left: 10px;
			}
			.generate_head div {
				display: flex;
				flex-direction: row;
				align-items: center;
				margin-top: 10px;
			}
			.generate__head-img-cross {
				padding-top: 5px;
				width: 15px;
				height: 15px;
			}
			.border_loading {
				width: 100%;
				height: 3px;
				background-color: #78fc2d;
			}
			.border_loading_on {
				left: 40%;
				transition: left ease 0.5s;
			}
			.border_loading_off {
				left: -70%;
				transition: left ease 0.5s;
			}
			#rocket {
				transition: opacity ease 0.5s;
				height: 220px;
				transform: translate(-220px, 80px);
				animation-direction: alternate;
				animation-duration: 4s;
				animation-name: rocket_move;
				animation-iteration-count: infinite;
				animation-timing-function: linear;
			}
			@keyframes rocket_move {
				0% {
					transform: translate(-180px, 80px);
				}

				100% {
					transform: translate(180px, -80px);
				}
			}
			.pulse {
				width: 300px;
				height: 300px;
				border-radius: 50%;
			}
			.pulse::after {
				animation-delay: 1.25s;
			}
			.pulse::before {
				content: "";
				position: absolute;
				border: 2px solid #a95aff;
				left: 0px;
				opacity: 0;
				right: 0px;
				top: 0px;
				bottom: 0px;
				border-radius: 50%;
				animation: pulse 1s linear infinite;
				box-shadow: 0 0 20px #a95aff;
			}
			@keyframes pulse {
				0% {
					transform: scale(0.7);
					opacity: 0;
				}
				50% {
					opacity: 1;
				}
				100% {
					transform: scale(1.2);
					opacity: 0;
				}
			}
			#animated {
				left: 0;
				right: 0;
				margin-left: auto;
				margin-right: auto;
				position: absolute;
				animation-direction: alternate;
				animation-duration: 2s;
				animation-name: move;
				animation-iteration-count: infinite;
				animation-timing-function: linear;
				z-index: 1;
			}
		</style>
		<main class="wrap">
			<section class="main main_bgc">
				<div class="generate_head_wrap" id="generate_head_wrap">
					<div class="generate_head">
						<div>
							<img src="./done.svg" alt="done" class="generate__head-img" />
							<p class="generate_head-text">Сигнал успешно получен!</p>
						</div>
						<img
							src="./cross.svg"
							alt="cross"
							class="generate__head-img-cross"
						/>
					</div>
					<div class="border_loading" id="border_loading"></div>
				</div>
				<img src="./rocket.png" alt="rocket" id="rocket" class="opacity-off" />
				<div class="lang-wrap">
					<p class="main__lang">CHOOSE LANGUAGE</p>
					<div class="btn__wrap">
						<button class="tellow__btn" type="button" id="btn_rus">RUS</button>
						<button class="tellow__btn" type="button" id="btn_eng">ENG</button>
					</div>
				</div>
				<div class="loading opacity-off">
					<div class="loading_wrap">
						<div class="loading__image">
							<img src="./outside.svg" alt="outside" id="outside" />
							<img src="./in.svg" alt="in" id="in" />
							<img src="./center.svg" alt="center" id="center" />
							<img src="./fire.svg" alt="fire" id="fire" />
						</div>
					</div>
				</div>
				<div class="loading_side opacity-off" id="loading">
					<div class="loading_bar" id="loading_bar"></div>
				</div>
				<div class="generate-wrap opacity-off" id="generate">
					<div class="circle_wrap">
						<div class="circle">
							<div class="pulse" id="animated"></div>
							<div>
								<span class="circle_time" id="time_text"></span>
								<span class="circle_time" id="time"></span>
							</div>
							<p class="circle_cf" id="circle_cf">2.00x</p>
						</div>
					</div>
					<p class="lucky_text"><span>LUCKY</span>JET</p>
					<div class="control-wrap">
						<button class="get-signal" id="get-signal"></button>
					</div>
				</div>
			</section>
		</main>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script type="text/javascript">
			const tg = window.Telegram.WebApp;
			tg.expand();
			const langWrap = document.querySelector(".lang-wrap");
			const loadingWrap = document.querySelector(".loading");
			const loadingSideWrap = document.querySelector(".loading_side");
			const generateWrap = document.getElementById("generate");
			const rocketImg = document.getElementById("rocket");
			const main = document.querySelector(".main");
			const timeText = document.getElementById("time_text");
			const btnText = document.getElementById("get-signal");

			const btnRus = document.querySelector("#btn_rus");
			const btnEng = document.querySelector("#btn_eng");

			const getSignal = document.querySelector(".get-signal");

			let count = 3;
			let toggle = false;
			let btnSignalActive = true;

			function generateRandomNumbers() {
				const randomNumbers = [];
				while (randomNumbers.length < 5) {
					const randomNumber = Math.floor(Math.random() * 25); // Числа от 0 до 24
					if (!randomNumbers.includes(randomNumber)) {
						randomNumbers.push(randomNumber);
					}
				}
				return randomNumbers;
			}

			function startLoading() {
				let i = 1;
				let width = 1;
				let elem = document.getElementById("loading_bar");

				let id = setInterval(frame, 30);

				function frame() {
					if (width >= 100) {
						clearInterval(id);
						i = 0;
						loadingWrap.classList.remove("opacity-on");
						loadingSideWrap.classList.remove("opacity-on");
						main.classList.add("main_bgc");
					} else {
						width++;
						elem.style.width = width + "%";
					}
				}
			}
			function generateRandomNumber() {
				const min = 2;
				const max = 13;
				let randomNum = (Math.random() * (max - min) + min).toFixed(2);
				randomNum = randomNum.slice(0, -1) + Math.floor(Math.random() * 10);
				return randomNum;
			}
			function loadingPopup() {
				let i = 1;
				let width = 100;
				let elem = document.getElementById("border_loading");
				let popup = document.getElementById("generate_head_wrap");
				popup.classList.remove("border_loading_on");
				popup.classList.remove("border_loading_off");
				let id = setInterval(frame, 30);

				function frame() {
					popup.classList.add("border_loading_on");
					if (width <= 1) {
						clearInterval(id);
						i = 0;
						popup.classList.add("border_loading_off");
					} else {
						width--;
						elem.style.width = width + "%";
						popup.classList.remove("border_loading_off");
					}
				}
			}

			function getTimeClick() {
				const Data = new Date();
				const Hour = Data.getHours();
				const Minutes = Data.getMinutes();
				return `${Hour}:${Minutes}`;
			}

			btnRus.addEventListener("click", () => {
				langWrap.classList.add("opacity-off");
				setTimeout(() => {
					langWrap.classList.add("display-none");
					loadingWrap.classList.add("opacity-on");
					loadingSideWrap.classList.add("opacity-on");
					setTimeout(() => {
						generateWrap.classList.add("opacity-on");
						rocketImg.classList.add("opacity-on");
						timeText.textContent = "ВРЕМЯ: ";
						btnText.textContent = "Сгенерировать";
					}, 3500);
					startLoading();
				}, 600);
			});

			btnEng.addEventListener("click", () => {
				langWrap.classList.add("opacity-off");
				setTimeout(() => {
					langWrap.classList.add("display-none");
					loadingWrap.classList.add("opacity-on");
					loadingSideWrap.classList.add("opacity-on");
					setTimeout(() => {
						generateWrap.classList.add("opacity-on");
						rocketImg.classList.add("opacity-on");
						timeText.textContent = "TIME: ";
						btnText.textContent = "Generate";
					}, 3500);
					startLoading();
				}, 600);
			});

			function handleBtn() {
				btnSignalActive = false;
				getSignal.classList.add("gray_btn");
				const number = generateRandomNumber();
				const time = getTimeClick();
				document.getElementById("circle_cf").textContent = `${number}x`;
				document.getElementById("time").textContent = time;
				loadingPopup();
				const id = setTimeout(removeClass, 10000);
				function removeClass() {
					getSignal.classList.remove("gray_btn");
					btnSignalActive = true;
				}
			}
			getSignal.addEventListener("click", () => {
				btnSignalActive ? handleBtn() : "";
			});
		</script>
	</body>
</html>
